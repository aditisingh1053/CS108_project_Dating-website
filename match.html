<!DOCTYPE html>
<html>
<head>
    <title>Match mingle</title>
    <!-- <link rel="stylesheet" href="styling.css"> -->
    <link rel="icon" href="logo.png" type="image/x-icon"></link>
    <style>
        body{
            background-color: rgb(165,206,255 );
            text-align: center;
            color: rgb(235,235,255 );
            min-height: 110vh;
            background-image: url('image1.jpeg');
            animation: animatedBackground 10s linear infinite;
            background-size: 100% 100%;
            
            /* Prevent the image from repeating */
            background-repeat: no-repeat;
            font-size: large;
            font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .buttonss{
            text-align: center;
        }
                .login-box {
            width: 400px;
            margin: 50px auto;
            color: rgb(55, 44, 23);
            background-color: rgb(165,206,255 ) ;
            box-shadow: 5px 10px 10px rgba(180, 220, 255, 0.7);
            padding: 20px;
            border: 2px solid rgb(180,220,255 ) ; 
            border-radius: 10px;
            text-align: center;
            /* animation: slideUp 1s ease forwards; */
        }
        .allcontent{
            animation: slideUp 2s ease forwards;
        }
        @keyframes slideUp {
            0% {
                transform: translate(0%, 100%);
                opacity: 0;
            }
            100% {
                transform: translate(0%, 0);
                opacity: 1;
            }
        }
        
        .login-box h2 {
            text-align: center;
            color: black; /* Revert h2 color to yellow */
        }
        .profile-image {
                max-width: 250px;
                max-height: 250px;
                margin-right: 20px;
            }
            .signin-btn1 {
            background-color: rgb(164, 200, 255);
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            color: black;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 5px;
            border: none;
            transition: background-color 0.3s ease; /* Transition Effect */
        }
        
        .signin-btn1:hover {
            background-color: rgb(23, 53, 123);
        }
        .signin-btn1-container {
            display: flex;
            justify-content: center;
        }

    </style>
</head>
<body>
    <div class="allcontent">
    <!-- <script src="script.js"></script> -->
    <h1>Greetings!!!</h1>
    <!-- <h1>Sign in to continue</h1> -->
    <div class="login-box">
        <h2 id="displayname"></h2>
        <h2 id ="matched"></h2>
        <div id="matchData">
            <!-- Match data will be displayed here -->
        </div>
        
    </div>
    <a href="dating.html" class="signin-btn1">Wanna try again</a>
    <script>
        // Get the username from the URL parameter and set it as the text content of the <h2> element
            document.addEventListener("DOMContentLoaded", function() {
    // Retrieve username from localStorage
        var username = localStorage.getItem("username");
        if(username) {
            document.getElementById("displayname").innerText = "Greetings, " + username;
        }
        var rollno=localStorage.getItem("rollno");
        var score = localStorage.getItem("score");
        var ele="";
        if (score>3){
            ele="You are an ideal match for each other";
        }
        else if (score==2 || score==3){
            ele="You are a optimal match for each other";
        }
        else if (score==1){
            ele="You are a decent match for each other";
        }
        else{
            ele="You are an average match";
        }
        console.log(score)
        console.log(rollno)
        if (rollno === "nomatch") {
        // console.log("hi")
                document.getElementById("matched").innerText = "Sorry we couldn't find an appropriate match";
            }
    else{
        document.getElementById("matched").innerText = "Congratulations !!! We have found a match for you. Here are the details....... ";
        fetch('students.json')
    .then(response => response.json())
    .then(data => {
        // Get container element
        const container = document.getElementById('matchData');

        // Loop through each student
        data.forEach(student => {
            // Create profile element
            const profile = document.createElement('div');
            profile.classList.add('student-profile');
            if (student['IITB Roll Number']==rollno){

            // Create profile content
            const content = `
                <img src="${student.Photo}" alt="${student.Name}" class="profile-image">
                <div class="profile-details">
                    <h2>${student.Name}</h2>
                    <p><strong>Roll Number:</strong> ${student['IITB Roll Number']}</p>
                    <p><strong>Year of Study:</strong> ${student['Year of Study']}</p>
                    <p><strong>Age:</strong> ${student.Age}</p>
                    <p><strong>Gender:</strong> ${student.Gender}</p>
                    <p><strong>Interests:</strong> ${student.Interests.join(', ')}</p>
                    <p><strong>Hobbies:</strong> ${student.Hobbies.join(', ')}</p>
                    <p><strong>Email:</strong> <a href="mailto:${student.Email}">${student.Email}</a></p>
                    <p><strong>Match Status:</strong> ${ele}</p>

                </div>
            `;

            // Set profile content
            profile.innerHTML = content;

            // Append profile to container
            container.appendChild(profile);
    }});
    })
    .catch(error => console.error('Error fetching JSON:', error));
    }
});

    </script>
    </div>
</body>